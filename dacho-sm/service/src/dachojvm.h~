#ifndef _DACHOJVM_H
#define _DACHOJVM_H

#include <jni.h>
#include <map>
#include <string>

class DachoJVM{
  JNIEnv *env;
  JavaVM *jvm;

  JavaVMInitArgs vm_args;
  JavaVMOption options[7]; // Max options???
  int nbOptions;

  const std::map<std::string, std::string> &properties;
  DachoJVM(const DachoJVM &other);
  DachoJVM & operator=(const DachoJVM &other);

 public:

  //- Initializes the JVM
  void init();

  //- Destroys the JVM
  void destroy();

  void executeMethod(const std::string &className, const std::string &methodName, const std::string &signature);

  DachoJVM(const std::map<std::string, std::string> &properties);
  ~DachoJVM() throw();
};

#endif
